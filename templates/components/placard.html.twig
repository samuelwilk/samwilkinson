{#
  Spec Placard Component - For Build Case Studies

  Museum-style specification placard with hierarchical information display
  Inspired by exhibition labels with precise typography and generous spacing
#}

{#
  Full Spec Placard - Complete project specification

  Usage:
    {% import 'components/placard.html.twig' as placard %}
    {{ placard.spec({
      title: 'E-Commerce Platform Rebuild',
      role: 'Lead Backend Developer',
      constraints: ['Legacy data migration', 'Zero downtime deployment', 'PCI compliance'],
      outcome: 'Migrated 2M+ records with 99.99% data integrity',
      metrics: {
        'Performance': '+340% faster checkout',
        'Conversion': '+28% increase',
        'Uptime': '99.97% SLA exceeded'
      }
    }) }}

  Parameters:
    - spec: Object with title, role, constraints, outcome, metrics
    - class: Additional CSS classes (optional)
#}
{% macro spec(spec, class = '') %}
  <div class="inset-panel p-8 md:p-10 {{ class }}">
    {# Title - Project Name #}
    {% if spec.title is defined %}
      <h3 class="font-display text-2xl md:text-3xl text-ink mb-6 leading-tight">
        {{ spec.title }}
      </h3>
    {% endif %}

    {# Role - What was built #}
    {% if spec.role is defined %}
      <div class="mb-6 pb-6 hairline-dark border-b">
        <div class="museum-label text-stone mb-2">Role</div>
        <div class="text-lg text-graphite">{{ spec.role }}</div>
      </div>
    {% endif %}

    {# Constraints - Technical challenges #}
    {% if spec.constraints is defined and spec.constraints is iterable %}
      <div class="mb-6 pb-6 hairline-dark border-b">
        <div class="museum-label text-stone mb-3">Constraints</div>
        <ul class="space-y-2">
          {% for constraint in spec.constraints %}
            <li class="text-graphite flex items-start">
              <span class="text-accent mr-2">—</span>
              <span>{{ constraint }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    {# Outcome - What was achieved #}
    {% if spec.outcome is defined %}
      <div class="mb-6 pb-6 hairline-dark border-b">
        <div class="museum-label text-stone mb-2">Outcome</div>
        <div class="text-lg text-ink font-medium">{{ spec.outcome }}</div>
      </div>
    {% endif %}

    {# Metrics - Quantifiable results #}
    {% if spec.metrics is defined and spec.metrics is iterable %}
      <div>
        <div class="museum-label text-stone mb-4">Metrics</div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          {% for label, value in spec.metrics %}
            <div>
              <div class="museum-value text-accent text-xl mb-1">{{ value }}</div>
              <div class="text-sm text-stone">{{ label }}</div>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>
{% endmacro %}

{#
  Simple Info Placard - Minimal metadata display

  Usage:
    {{ placard.info({
      'Technology': 'Symfony 7.4, PostgreSQL',
      'Year': '2024',
      'Status': 'Production'
    }) }}

  Parameters:
    - data: Key-value pairs to display
    - class: Additional CSS classes (optional)
    - columns: Number of columns (default: 2)
#}
{% macro info(data, class = '', columns = 2) %}
  <div class="inset-panel p-6 {{ class }}">
    <div class="grid grid-cols-1 md:grid-cols-{{ columns }} gap-4">
      {% for label, value in data %}
        <div>
          <div class="museum-label text-stone mb-1">{{ label }}</div>
          <div class="museum-value text-ink">{{ value }}</div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endmacro %}

{#
  Timeline Placard - Vertical timeline with architectural precision

  Usage:
    {{ placard.timeline([
      {date: '2022 – Present', event: 'Developer @ zu'},
      {date: 'Feb 2020 – Oct 2021', event: 'Programmer Analyst @ University of Saskatchewan'}
    ]) }}

  Parameters:
    - items: Array of {date, event} objects
    - class: Additional CSS classes (optional)
#}
{% macro timeline(items, class = '') %}
  <div class="relative {{ class }}">
    {# Vertical connector line - Prairie architectural detail #}
    {% if items|length > 1 %}
      <div class="absolute left-0 top-12 bottom-12 w-px bg-gradient-to-b from-stone/30 via-stone/60 to-stone/30 hidden md:block"></div>
    {% endif %}

    {# Timeline items as individual object cards #}
    <div class="space-y-6">
      {% for item in items %}
        <div class="group relative">
          {# Timeline dot - Architectural marker #}
          <div class="absolute left-0 top-6 w-2.5 h-2.5 rounded-full bg-accent border-2 border-paper shadow-sm transition-all duration-300 group-hover:scale-125 group-hover:shadow-md hidden md:block z-10"></div>

          {# Content card - Elevated object #}
          <div class="md:ml-8 bg-bone rounded-lg border border-stone/10 p-6 transition-all duration-300 ease-out group-hover:-translate-y-0.5 shadow-[0_1px_3px_rgba(0,0,0,0.08),0_1px_2px_rgba(0,0,0,0.06)] group-hover:shadow-[0_4px_6px_rgba(0,0,0,0.08),0_2px_4px_rgba(0,0,0,0.06)]">
            {# Date range - Museum label with tabular numerals #}
            <div class="museum-value text-accent text-sm mb-3 tracking-wide">
              {{ item.date }}
            </div>

            {# Role & Company - Primary information #}
            <div class="text-lg text-ink leading-relaxed">
              {{ item.event }}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endmacro %}
